{
  "name": "CHRF Test Suite",
  "description": "Test cases for chrf metric (corpus-level CHRF without word order)",
  "corpus_level": true,
  "test_cases": [
    {
      "name": "CHRF - Perfect Matches",
      "metric_class": "chrf",
      "metric_params": {},
      "metric_name": "chrf",
      "docs": [
        {
          "query": "Translate to French: Hello world",
          "choices": ["Bonjour le monde"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to Spanish: Good morning",
          "choices": ["Buenos días"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to German: Thank you",
          "choices": ["Danke schön"],
          "gold_index": 0,
          "task_name": "translation"
        }
      ],
      "model_responses": [
        {
          "text": ["Bonjour le monde"]
        },
        {
          "text": ["Buenos días"]
        },
        {
          "text": ["Danke schön"]
        }
      ],
      "expected_output": 100.0,
      "tolerance": 0.01,
      "description": "Perfect matches - exact character overlap (CHRF = 100.0)"
    },
    {
      "name": "CHRF - High Similarity",
      "metric_class": "chrf",
      "metric_params": {},
      "metric_name": "chrf",
      "docs": [
        {
          "query": "Translate to French: The cat is sleeping",
          "choices": ["Le chat dort"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to Spanish: I like pizza",
          "choices": ["Me gusta la pizza"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to German: The weather is nice",
          "choices": ["Das Wetter ist schön"],
          "gold_index": 0,
          "task_name": "translation"
        }
      ],
      "model_responses": [
        {
          "text": ["Le chat dort"]
        },
        {
          "text": ["Me gusta pizza"]
        },
        {
          "text": ["Das Wetter ist schön"]
        }
      ],
      "expected_output": 88.0,
      "tolerance": 5.0,
      "description": "High similarity - minor character differences (CHRF ≈ 88.0)"
    },
    {
      "name": "CHRF - Word Order Changes",
      "metric_class": "chrf",
      "metric_params": {},
      "metric_name": "chrf",
      "docs": [
        {
          "query": "Translate to French: The quick brown fox",
          "choices": ["Le renard brun rapide"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to Spanish: Artificial intelligence",
          "choices": ["La inteligencia artificial"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to German: Machine learning",
          "choices": ["Maschinelles Lernen"],
          "gold_index": 0,
          "task_name": "translation"
        }
      ],
      "model_responses": [
        {
          "text": ["Le rapide renard brun"]
        },
        {
          "text": ["La artificial inteligencia"]
        },
        {
          "text": ["Lernen Maschinelles"]
        }
      ],
      "expected_output": 75.0,
      "tolerance": 10.0,
      "description": "Word order changes - same characters, different order (CHRF ≈ 75.0)"
    },
    {
      "name": "CHRF - Moderate Similarity",
      "metric_class": "chrf",
      "metric_params": {},
      "metric_name": "chrf",
      "docs": [
        {
          "query": "Translate to French: The sun is bright",
          "choices": ["Le soleil est brillant"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to Spanish: The moon is full",
          "choices": ["La luna está llena"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to German: The stars are beautiful",
          "choices": ["Die Sterne sind wunderschön"],
          "gold_index": 0,
          "task_name": "translation"
        }
      ],
      "model_responses": [
        {
          "text": ["Le soleil"]
        },
        {
          "text": ["La luna"]
        },
        {
          "text": ["Die Sterne"]
        }
      ],
      "expected_output": 50.0,
      "tolerance": 10.0,
      "description": "Moderate similarity - partial character overlap (CHRF ≈ 50.0)"
    },
    {
      "name": "CHRF - Low Similarity",
      "metric_class": "chrf",
      "metric_params": {},
      "metric_name": "chrf",
      "docs": [
        {
          "query": "Translate to French: The weather is nice",
          "choices": ["Le temps est agréable"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to Spanish: The food is delicious",
          "choices": ["La comida está deliciosa"],
          "gold_index": 0,
          "task_name": "translation"
        },
        {
          "query": "Translate to German: The music is beautiful",
          "choices": ["Die Musik ist wunderschön"],
          "gold_index": 0,
          "task_name": "translation"
        }
      ],
      "model_responses": [
        {
          "text": ["Il pleut beaucoup"]
        },
        {
          "text": ["Hace mucho frío"]
        },
        {
          "text": ["Es sehr heiß"]
        }
      ],
      "expected_output": 20.0,
      "tolerance": 10.0,
      "description": "Low similarity - minimal character overlap (CHRF ≈ 20.0)"
    }
  ]
}
